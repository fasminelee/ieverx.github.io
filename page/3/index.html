<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta name="generator" content="Hugo 0.37" />
    <meta charset="utf-8" />
    <meta viewport="width=device-width, initial-scale=1" />

    
    <title>天外天</title>
    

    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/code.github.css">
</head>

<body>
    <div class="container">
        <div class="block-container">
            <div id="header" class="header">
    <div class="header-container">
        <div class="brand">
            <h1 class="u-link">
                <a href="/">天外天</a>
            </h1>
        </div>
        <div class="nav-container">
            <div class="nav">
                <div class="u-link nav-item">
                    <a href="/">home</a>
                </div>
                <div class="u-link nav-item">
                    <a href="/tags">tags</a>
                </div>
                
                <div class="u-link nav-item">
                    <a href="https://github.com/ieverx">project</a>
                </div>
                
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
</div>
            
<div class="block-index">
    <div class="posts">
        
        <div class="post">
            <h1 class="post-title u-link">
                <a href="http://blog.evercoding.net/post/highlight-code-with-google-code-prettify/">Jekyll中使用google-code-prettify高亮代码</a>
            </h1>
            <div class="post-meta">
    <span class="post-date">2013.2.27</span>
    
        &middot;
        
        <span class="post-tag u-link">
            <a href="/tags/jekyll">Jekyll</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE">代码高亮</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/google-code-prettify">google-code-prettify</a>
        </span>
        
    
</div>
            <div class="post-content">
                <p>这个博客，到现在换了好几个代码高亮的工具，之前的SyntaxHIghlighter虽然漂亮，无奈加载太慢，只能舍弃了。现在用的这个是google-code-prettfy，效果也相当不错。最重要的是，非常小，加载速度比SyntaxHighlighter快得多，而且，可以直接使用markdown的语法去写代码。</p>

<p>首先需要两个文件，prettify.js和prettify.css，自己去官网去下。把这两个放到模板中，如下</p>

<pre><code>&lt;link href=&quot;{{ ASSET_PATH }}/google-code-prettify/desert.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot;&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;{{ ASSET_PATH }}/google-code-prettify/prettify.js&quot;&gt;&lt;/script&gt;
</code></pre>

<p>考虑到加载速度，最好js写到文档末尾，body闭合标签之前，css写到头部</p>

<p>之后，还需要加上如下代码，用于识别并高亮代码块，这个需要使用jQuery</p>

<pre><code>$(function() {
  window.prettyPrint &amp;&amp; prettyPrint();
});
</code></pre>

<p>现在，就可以使用<code>&lt;pre&gt;&lt;/pre&gt;</code>标签进行高亮了，</p>

<pre><code>&lt;pre class=&quot;prettyPrint&quot;&gt;
// code here
&lt;/pre&gt;
</code></pre>

<p>但这样会有些问题，就是在书写html代码的时候，html标签会被浏览器认为是标签而不是代码的字符。而markdown的语法写的代码其实已经解决了这个问题，所以，我们可以利用如下的js代码，来避免自己用<code>&lt;pre&gt;&lt;/pre&gt;</code>写代码所出现的问题，同样需要jQuery支持</p>

<pre><code>$(function() {
  $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto');
});
</code></pre>

<p>这样之后，就没有问题了，可以直接用markdown的前置4空格来写代码了。其中<code>addClass('prettyprint linenums')</code>的<code>linenums</code>是添加行号的意思。默认只显示第5、10、15&hellip;行，可以在css文件中li的格式添加<code>list-style-type: decimal;</code>，以显示全部行号</p>

<p>另外，如果博客中有用bootstrap，其中对<code>pre</code>有如下几句</p>

<pre><code>white-space:pre;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;
</code></pre>

<p>这会使得pre中的代码自动换行，而不是溢出形成滚动条。如果不希望如此，可以注释掉。就看个人的喜好了。如果是滚动条，默认的滚动太难看，可以修改一下样式，看一下<a href="http://www.javascript100.com/?p=756">这篇文章</a></p>

            </div>
        </div>
        
        <div class="post">
            <h1 class="post-title u-link">
                <a href="http://blog.evercoding.net/post/use-syntaxhighlighter-highlighting-code-in-jekyll-2nd/">在Jekyll中用SyntaxHighlighter高亮代码2</a>
            </h1>
            <div class="post-meta">
    <span class="post-date">2013.1.14</span>
    
        &middot;
        
        <span class="post-tag u-link">
            <a href="/tags/jekyll">Jekyll</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/syntaxhighlighter">SyntaxHighlighter</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE">代码高亮</a>
        </span>
        
    
</div>
            <div class="post-content">
                <p>之前有一篇博客是关于在Jekyll中利用SyntaxHighlighter去高亮代码的。不过那篇博客中的方法需要每次都加载所有的js文件，加载速度比较慢。其实，可以利用js动态加载js来实现对于不同的语言加载不同的语法分析文件，从而提高js文件的加载速度。废话不多说了，上代码</p>

<pre><code>&lt;script language='javascript'&gt;
    $(function () {

        var stdname = {
            'bash': 'Bash',
            'sh': 'Bash',
            'c': 'Cpp',
            'cpp': 'Cpp',
            'cs': 'CSharp',
            'css': 'Css',
            'java': 'Java',
            'js': 'JScript',
            'php': 'Php',
            'py': 'Python',
            'python': 'Python',
            'rb': 'Ruby',
            'sql': 'Sql',
            'vb': 'Vb',
            'xml': 'Xml',
            'html': 'Xml',
            'perl': 'Perl'
        };

        var used = {};

        var $t = $('pre[class^=brush]');
        if ($t.length &gt; 0) {
            $('body').append('&lt;script src=&quot;/static/js/syntaxhighlighter/shCore.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;');
        }
        $t.each(function() {
            var lang = stdname[$.trim($(this).attr('class').substring(6))];
            if (used[lang]) {
                return;
            }
            used[lang] = true;
            $('body').append('&lt;script type=&quot;text/javascript&quot; src=&quot;/static/js/syntaxhighlighter/shBrush' + lang + '.js&quot;&gt;&lt;/script&gt;');
        });
        if ($t.length &gt; 0) {
            $('body').append('&lt;script language=&quot;javascript&quot;&gt;SyntaxHighlighter.all();&lt;/script&gt;');
        }
    });
&lt;/script&gt;
</code></pre>

<p>把以上这段代码放在Jekyll模板页的body的最后面即可。</p>

<p>这段代码需要jQuery，我的是1.8.2，不知道低版本的是否可以。此外，shCore.css，shThemeDefault.css文件不是动态加载，所以，这两个文件仍然需要直接放在模板页的头部。</p>

            </div>
        </div>
        
        <div class="post">
            <h1 class="post-title u-link">
                <a href="http://blog.evercoding.net/post/on-the-end-of-the-term/">写在学期末</a>
            </h1>
            <div class="post-meta">
    <span class="post-date">2013.1.8</span>
    
        &middot;
        
        <span class="post-tag u-link">
            <a href="/tags/%E6%84%9F%E6%83%B3">感想</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/%E5%A4%A7%E5%AD%A6">大学</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/%E7%BC%96%E7%A8%8B%E7%94%9F%E6%B6%AF">编程生涯</a>
        </span>
        
    
</div>
            <div class="post-content">
                <p>今天，软工的答辩结束。至此，这个学期的课，除了软工的第二次结对编程还要写代码、编译还要检查之外，这个学期就没有其他的事情了。说现在是放假状态也无不可。</p>

<p>就像10月的那篇博客所说，这个学期事情很多。不过那时候并没有切身感受，所有的多与不多，不过自己推断而已。。现在学期结束，那感受就真实了。</p>

<p>先说软工吧，说实话，软工的团队项目做的就是翔一样，而且还累得要死。。其实，说实话，我们做的功能并不复杂，也不是很难，但是就是做不好。。我们做的是一个大项目中的一小块，是用户管理。。想想，用户管理分为哪几块？先不说涉及到网站具体内容的地方，那就是登录、注册、密码重置、信息修改四个地方吧，但是关键是要做好，用户体验要好。现在做完了，说说自己的理解</p>

<ol>
<li>界面简洁大方<br />
这个完全是界面设计的事情，就不说了</li>
<li>错误信息提示足够详细，而且足够及时<br />
这一点如果要做到，js和ajax必不可少<br /></li>
<li>用户操作简单，没有门槛<br />
流程简单要，要没有特别注意的地方。这一点也需要js支持</li>
<li>用户信息保护<br />
密码加密</li>
<li>系统的安全<br />
防止脚本攻击、SQL注入。激活邮件、重置密码邮件链接不能被伪造</li>
</ol>

<p>其次说一下数据库，相比较软工和编译，数据库的大作业真的可以说是So easy！用了三天，当然还是遇到了困难。表前前后后改了好几趟，而且有些地方用的id让事情变得比较复杂。。还有一个困难就是DataGridView这个控件的使用，这个问题困住了我们一个晚上！！然后，然后就没有然后了。。或者是，然后就开始写编译了。。</p>

<p>最好说一下编译，这是我这辈子以来，写得最大的一个工程，也是最难的一个。写完数据库，就开始写编译了，那时候，距离最后期限还有4天，我只写完了词法分析和语法语义分析中的常量说明部分。最重要也最麻烦的四元式生成还没有写，汇编更不知道是什么东西。。但是没有办法，作业还是得交啊。。那就问同学，上网查，自己想。。知道截止日期那一天，自己的数组的汇编还没有搞定，错误处理也没搞定。。庆幸的是，编译的截止日期推迟了32小时，我擦，心情大爽！最后的32个小时，总算是把功能搞定了。。不过优化却是无论如何没时间写了。。为了写出这个编译器，和XYQ一起熬夜，72个小时睡了10小时不到。。着绝对是我这辈子最“光明”的时间。。还想着之后就能好好睡觉了。。结果也确实睡了一个好觉，从早上8点多道下午2点多。。之后是数据库的检查，然后第二天是软工的最终复审。。都赶在这几天了！</p>

<p>XYQ一直再说，如果早写一个星期，也不至于被逼得这么惨。。这话再理，不过这个学期伊始，我就说过，不要把大作业都留到最后，结果说了等于白说。。嗯，其实，有一个大作业说是提前写完的，就是Ruby了。。网站在<a href="http://share.evercoding.net">http://share.evercoding.net</a>，自己感觉交个大作业是没问题了。。</p>

<p>然后。。2012世界未末日，不知道什么时候才是真的世界末日</p>

            </div>
        </div>
        
        <div class="post">
            <h1 class="post-title u-link">
                <a href="http://blog.evercoding.net/post/use-syntaxhighlighter-highlighting-code-in-jekyll/">在Jekyll中用SyntaxHighlighter高亮代码</a>
            </h1>
            <div class="post-meta">
    <span class="post-date">2012.11.30</span>
    
        &middot;
        
        <span class="post-tag u-link">
            <a href="/tags/jekyll">Jekyll</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/syntaxhighlighter">SyntaxHighlighter</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE">代码高亮</a>
        </span>
        
    
</div>
            <div class="post-content">
                <p>前几天把博客里的代码高亮改成[SyntaxHighligher][]了，感觉好了很多，看着也舒服，关键是复制代码的时候，行号连着代码在一行复制了。主要参考了官网给的这个链接<a href="http://www.cyberack.com/2007/07/adding-syntax-highlighter-to-blogger.html">Adding a Syntax Highlighter to your Blogger blog</a>。Jekyll的灵活性应该比Blogger更大，而且直接贴改代码，所以对于Jekyll这个方法是合适的。下面是具体的过程</p>

<p>在Jekyll的模板页里的head里面，添加如下代码，选自己需要的语言的刷子就好</p>

<pre><code>&lt;link href='/static/css/syntaxhighlighter/shCore.css' rel='stylesheet' type='text/css'/&gt;
&lt;link href='/static/css/syntaxhighlighter/shThemeDefault.css' rel='stylesheet' type='text/css'/&gt;
&lt;script src='/static/js/syntaxhighlighter/shCore.js' type='text/javascript'&gt;&lt;/script&gt;
&lt;!-- The Following is styles for different language  --&gt;
&lt;script src='/static/js/syntaxhighlighter/shBrushBash.js' type='text/javascript'&gt;&lt;/script&gt;
&lt;script src='/static/js/syntaxhighlighter/shBrushCpp.js' type='text/javascript'&gt;&lt;/script&gt;
&lt;script src='/static/js/syntaxhighlighter/shBrushCSharp.js' type='text/javascript'&gt;&lt;/script&gt;
&lt;script src='/static/js/syntaxhighlighter/shBrushCss.js' type='text/javascript'&gt;&lt;/script&gt;
&lt;script src='/static/js/syntaxhighlighter/shBrushJava.js' type='text/javascript'&gt;&lt;/script&gt;
&lt;script src='/static/js/syntaxhighlighter/shBrushJScript.js' type='text/javascript'&gt;&lt;/script&gt;
&lt;script src='/static/js/syntaxhighlighter/shBrushPhp.js' type='text/javascript'&gt;&lt;/script&gt;
&lt;script src='/static/js/syntaxhighlighter/shBrushPython.js' type='text/javascript'&gt;&lt;/script&gt;
&lt;script src='/static/js/syntaxhighlighter/shBrushRuby.js' type='text/javascript'&gt;&lt;/script&gt;
&lt;script src='/static/js/syntaxhighlighter/shBrushSql.js' type='text/javascript'&gt;&lt;/script&gt;
&lt;script src='/static/js/syntaxhighlighter/shBrushVb.js' type='text/javascript'&gt;&lt;/script&gt;
&lt;script src='/static/js/syntaxhighlighter/shBrushXml.js' type='text/javascript'&gt;&lt;/script&gt;
&lt;script src='/static/js/syntaxhighlighter/shBrushPerl.js' type='text/javascript'&gt;&lt;/script&gt;
&lt;script language='javascript'&gt;
  SyntaxHighlighter.all();
&lt;/script&gt;
</code></pre>

<p>其中，src里面是文件的目录，把从官网上下载的对应的js文件和css文件放到对应的目录即可。其实也可以直接引用官网的js文件，比如这样（以下代码来自我参考的网址，去掉了一些不需要的代码）</p>

<pre><code>&lt;link href='http://alexgorbatchev.com/pub/sh/current/styles/shCore.css' rel='stylesheet' type='text/css'/&gt;
&lt;link href='http://alexgorbatchev.com/pub/sh/current/styles/shThemeDefault.css' rel='stylesheet' type='text/css'/&gt;
&lt;script src='http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js' type='text/javascript'&gt;&lt;/script&gt;
&lt;script src='http://alexgorbatchev.com/pub/sh/current/scripts/shBrushCpp.js' type='text/javascript'&gt;&lt;/script&gt;
&lt;script language='javascript'&gt;
    SyntaxHighlighter.all();
&lt;/script&gt;
</code></pre>

<p>不过，这样会导致没有联网的时候，自己写博客预览的时候看不到代码的高亮效果。</p>

<p>之后，写代码的时候，不要使用markdown的语法，直接用pre抱起来就好了。就比如这样</p>

<pre><code>&lt;pre class=&quot;brush: cpp&quot;&gt;
&lt;/pre&gt;
</code></pre>

<p>效果就和以上一样了。这个应该比pygments更好看吧。不过目前加载速度比较慢，以后再改吧</p>

            </div>
        </div>
        
        <div class="post">
            <h1 class="post-title u-link">
                <a href="http://blog.evercoding.net/post/busy-and-tired/">忙&amp;累</a>
            </h1>
            <div class="post-meta">
    <span class="post-date">2012.11.25</span>
    
        &middot;
        
        <span class="post-tag u-link">
            <a href="/tags/%E6%80%BB%E7%BB%93">总结</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/%E5%A4%A7%E5%AD%A6">大学</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/%E7%BC%96%E7%A8%8B%E7%94%9F%E6%B6%AF">编程生涯</a>
        </span>
        
    
</div>
            <div class="post-content">
                <p>上一篇博客已经说了，这个学有, &ldquo;编程生涯&rdquo;许多的大作业，代码量不小。到现在过去了一个月，代码量是蹭蹭的往上涨。一个科目一个科目的说吧。</p>

<p>软工是最主要的贡献者，要求每天一次scrum，还要写到博客上。基本上是没空闲。不过从这里，却是学到了许多，比如技术上的、项目上的，现在不细说了。然后，上上个星期吧，编译开始。选了个扩编展C0，要求生成汇编码。虽说不是真生的C编译器，对于我们来说，难度那是相当的不小。如果说软工最主要的实在项目的协调上，那么编译难点就在写，写出真正可用的代码。而接下来要说的数据库，没有难点，纯粹的体力活，只要想好一个点子就行，如果踏踏实实的写，估计两个从早写到晚，两天就搞定了。还有就是，自己选了Ruby课，那就有Ruby大作业要写了，这个到目前为止，倒是写了不少了。不过对于Rails真心不习惯，可能是没有理解其精髓，最主要还是不习惯它自动生成的那么多代码（关键是自己以前从没有用那些自动生成大量代码的东西，VS从来都是空项目，Django也没学）。嗯，除了课内的，还有一个是学院的Win8的App开发比赛，为了这个昨天花了一个小时装了Win8，然后又花了N个小时装了各种软件，囧。。</p>

<p>这一段时间，包括这个学期的后半段，应该会一直处在不断的编码过程之中。也学到了许多新的技术吧。就简单的说一下吧，不涉及具体内容。因为都是项目里要用的东西，临时学的，也讲不出什么有用的东西出来，等这一段过了之后，事情少了，有心情了，再具体的说一些，当然也得自己肚子真有东西才行</p>

<ul>
<li>C#的this扩展，个人感觉类似Ruby的开放类，不过应该是用作用域限制的</li>
<li>SQL语句，应该使用参数传递的方式，不要字符串拼接，对于C#，可以看看CSDN上的这个帖子《<a href="http://bbs.csdn.net/topics/310208302">用存储过程防止SQL注入是笑话吗？</a>》和Stackoverflow上的一个帖子《<a href="http://stackoverflow.com/questions/4624811/different-ways-of-passing-sqlcommand-parameters">Different ways of passing sqlCommand parameters</a>》。其他语言，道理应该是一样的</li>
<li>jQuery，这个真是个好东西，尤其是做Ajax，实在so easy！不过自己对于js几乎算是完全的新手，完全不了解其道理。不过用这个做一些软工项目的前端，效果应该是不错的<br /></li>
<li>Rails，这个现在还说不出什么东西来， 等到课上讲了，对这个框架有了更进一步的理解，估计才能说出一些道道。不过，相对于Ruby，个人感觉还是Python更合自己<br /></li>
<li>编译，到目前，写完了词法分析，开始语法分析。感觉就是，词法分析很简单，不过也会有一些坑。语法分析就困难的多了，尤其是错误处理的时候，跳读多少才能保证一个错误的连锁错误最小？这个愁死了</li>
<li>数据库连接池。开始的时候，在项目里，对于数据库连接，用的是单例。结果可想而知。用单例是因为自己对数据库连接的具体原理不清楚，而且上个学期的OO课的大作业，用的就是单例，OO课不用演示，没有运行过压力测试，所以。。.NET是内置的数据库连接池的，这个以前真是不知道。。</li>
<li>Win8开发，这个我们组还没开始。。囧。。</li>
</ul>

<p>OK，结束。。继续Coding</p>

            </div>
        </div>
        
        <div class="post">
            <h1 class="post-title u-link">
                <a href="http://blog.evercoding.net/post/first-month-of-new-term/">新学期的第一个月</a>
            </h1>
            <div class="post-meta">
    <span class="post-date">2012.10.19</span>
    
        &middot;
        
        <span class="post-tag u-link">
            <a href="/tags/%E6%80%BB%E7%BB%93">总结</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/%E6%96%B0%E5%AD%A6%E6%9C%9F">新学期</a>
        </span>
        
    
</div>
            <div class="post-content">
                <p>已经过了午夜，算是19号了。算来，从上个月10好开学，也有一个多月了。正好博客也一个月没更新了，正好写一篇。</p>

<p>这个学期，单从课程的多少来看，应该是相当轻松的。不过，如果从课程的难度以及大作业来看，这个学期绝对不好过。编译、数据库还有软件工程，三个课，哪个大作业都不是那么好相与的。而且，我们班的软工课的老师不是学校的老师，而是微软的<a href="http://weibo.com/sdxinz">邹欣</a>老师，上课和中国的老师的风格不一样，走的是欧美路线。整个课程的代码量相当的不小，而且要求相当的阅读量（按他的意思来说，这个和国外名校还差得远呢）。</p>

<p>先稍稍的说一下开学一个月以来的情况把。可能是刚开学，抑或是别的什么原因，感觉这一个月非常的累，琐事不断。还有就是自己还是浮躁，静不下心来，做事情总是三分热度。</p>

<p>不过现在想想，开学一个月自己到底都干了什么，也说不出自己到底干了什么。只是十一之后的大创（大学生创新创业训练计划）的中期答辩，忙了几天。再之前，也想不出什么事情来了。我以为，一个重要的原因就是那些事情根本不重要，就像我说的，琐事一堆而已。也正是由于是琐事，才会感觉到累吧。</p>

<p>除了这些，自己也是干了些其他的事情，虽然没有成果，或者说也是即兴而起，在这里也说一下。</p>

<ol>
<li>学习emacs。现在的博客就是在emacs里敲的。虽然一直用vim，不过我一直想学emacs，对于两者没有偏好。不过由于emacs的上手难度比vim要大，所以想了好长时间也没有真正动手，其间的几次简单尝试亦未有收获。这次终于学起来，其实还是选修了一门课，叫做<strong>数据密集型计算导论</strong>。老师在课上说了一句话，lisp是一门非常强大的语言，然后就有了学lisp的冲动，而些lisp，最好就是用emacs了。</li>
<li>学习common lisp。就像上面说的，学习emacs其实还有一些必然，学习lisp就是纯属偶然，虽然自己也有过想要学习一门函数式编程语言的想法。不过，学习一门语言如果不深入研究，终究只能停在表面。目前我对于common lisp的理解就是仅仅停在表面，甚至连表面都还没接触到。</li>
<li>貌似也没有其他什么了。。。</li>
</ol>

<p>再说说软工课吧。邹欣老师是程序员的大牛了。他教的课，也有大牛的水准。我们只有两个班大约六十人上他的课，然后自有组合成10个团队。每个人，每个团队，都必须在博客园上开一个博客，项目的进程什么的东西需要发在博客上。这在以前的课上是不会有的，博客是属于分享性质的，不算是课上教学的一部分，只能算是一些人的爱好而已。而且，对于团队博客，博客的积分是会影响道最终的团队的成绩的，我认为，这是一种促使我们写出优质文章的手段。我的团队叫做<a href="http://www.cnblogs.com/codingcook">CodingCook</a>，中文名称是代码厨师（呃，在邹欣老师的博客上，写的是代码厨房）。在编程方面，我们目前已经交了一个个人项目，词频统计。然后我们我们现在在进行结对编程。不过感觉老师想得比较好，实际上，近30个组，又有几个是真正结对编程的呢？</p>

<p>至于其他，只能说，争取好好干吧，好好学一个学期。看看到寒假，自己对自己的评价是怎么样的。是一个”爽“，还是一个”我操“。。</p>

            </div>
        </div>
        
        <div class="post">
            <h1 class="post-title u-link">
                <a href="http://blog.evercoding.net/post/connect-sina-weibo-with-tornado/">用Tornado连接新浪微博</a>
            </h1>
            <div class="post-meta">
    <span class="post-date">2012.9.13</span>
    
        &middot;
        
        <span class="post-tag u-link">
            <a href="/tags/python">Python</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/web%E5%BC%80%E5%8F%91">web开发</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/tornado">Tornado</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/%E6%96%B0%E6%B5%AA%E5%BE%AE%E5%8D%9A">新浪微博</a>
        </span>
        
    
</div>
            <div class="post-content">
                <p>前几天心血来潮，稍稍看了一下Tornado框架，感觉这个框架和web.py很像（因为本来Tornado就是在web.py的基础上修改而来的）。</p>

<p>微博的API就是微博官网上的那个新的API，可以从<a href="http://michaelliao.github.com/sinaweibopy/">这里</a>下载。网上有很多的教程，不过用的都是原来的API，不过也可以参照。不多说了，直接贴代码，不过这是简写的，不过可以连接到微博了。</p>

<pre><code>#! /usr/bin/env python
# -*- coding: utf-8 -*-

import tornado.web
import tornado.ioloop

from weibo import APIClient

APP_KEY = '*****'
APP_SECRET = '******'
CALLBACK_URL = 'http://apps.weibo.com/webotxyz/callback'
# 这是回调地址，必须在微博应用的域名下面，否则报错

class Index(tornado.web.RequestHandler):
    def post(self): # 注意，这里是post
        client = APIClient(app_key=APP_KEY, 
                           app_secret=APP_SECRET,
                           redirect_uri=CALLBACK_URL)
        url = client.get_authorize_url()
        # self.write('&lt;a href=&quot;' + url +'&quot;&gt;click&lt;/a&gt;') 
        # 用户点击链接后跳转到验证界面
        self.redirect(url) # 直接跳转到验证界面

class Callback(tornado.web.RequestHandler):
    def post(self): # 注意，这里也是post
        code = self.get_argument('code')
        client = APIClient(app_key=APP_KEY,
                           app_secret=APP_SECRET,
                           redirect_uri=CALLBACK_URL)
        r = client.request_access_token(code)
        access_token = r.access_token
        expires_in = r.expires_in
        client.set_access_token(access_token, expires_in)
        # res = client.get.statuses__user_timeline(screen_name='iEverX')
        # 这以后就可以自己调用API了，比如上一句就是抓取我的最近的微博

app = tornado.web.Application([
    (r'/', Index),
    ('/callback', Callback),
])

if __name__ == '__main__':
    app.listen(9009)
    tornado.ioloop.IOLoop.instance().start()
</code></pre>

<p>我的应用的源码在这里<a href="http://github.com/iEverX/webotxyz">http://github.com/iEverX/webotxyz</a>，不过我的应用不可能上线的了，因为抓取数据存到邮箱了。。</p>

<p>下面是我在里面用到的一段Python发送邮件的代码，比较短，可以充分的看出Python的简洁</p>

<pre><code>#! /usr/bin/env python
# -*- coding: utf-8 -*-

import smtplib
from email.mime.text import MIMEText
from email.mime.multipart import MIMEMultipart

def send_mail(mail_from, mail_to_list, subject, content):
    from_format = 'Ever' + '&lt;' + mail_from + '&gt;'
    # 格式应该是这样的 Nickname&lt;username@host.address&gt;，中间无空格
    txt = MIMEText(content, 'html') # 若content中有html编码
    # txt = MIMEText(content) # 若content中没有html编码
    txt.set_charset('utf-8')
    msg = MIMEMultipart()
    msg['Subject'] = subject
    msg['From'] = from_mail
    msg['To'] = ';'.join(mail_to_list)
    msg.attach(txt)
    try:
        s = smtplib.SMTP()
        s.connect(mail_info['host'])
        s.login(mail_info['sender'], mail_info['sender_password'])
        s.sendmail(mail_info['sender_address'], mail_to_list, msg.as_string())
        s.close()
    except:
        return false
    return True
</code></pre>

<p>嗯，这篇文章几乎都是代码，就当是自己的备忘录好了。。</p>

            </div>
        </div>
        
        <div class="post">
            <h1 class="post-title u-link">
                <a href="http://blog.evercoding.net/post/records-of-tour-to-hong-kong-3rd-completed/">香港游小记三（完）</a>
            </h1>
            <div class="post-meta">
    <span class="post-date">2012.8.31</span>
    
        &middot;
        
        <span class="post-tag u-link">
            <a href="/tags/%E9%A6%99%E6%B8%AF">香港</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/%E6%97%85%E6%B8%B8">旅游</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/%E6%9A%91%E5%81%87">暑假</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/%E5%8D%B0%E8%B1%A1">印象</a>
        </span>
        
    
</div>
            <div class="post-content">
                

<p>回到了北京，香港之旅正式结束了。这一趟，身在香港的时间，是四天。前两天的情况我已经在前两篇博客中说过了，这篇就主要说说后两天的活动，还有自己对应香港之行的一些感觉。</p>

<h1 id="8月29日">8月29日</h1>

<h2 id="金融管理局">金融管理局</h2>

<p>香港金融管理局在香港的国际金融中心（International Financial Center, IFC）的55层，相当于大陆的中央银行。在这里，就是了解了香港的金融发展历史以及港币的真伪辨别知识。不过我并非是学金融、经济的，所以对这个方面并不感冒，感觉上是相当的无聊。</p>

<p>在IFC的二层，有一个苹果的专营店，rMBP，Air，iMac，iPad，iPhone 5等等，应有尽有，而且可以随便玩。整个中午，我们一群人除了吃饭，就是在这里消磨时光。看着这么多的Mac，再看看自己的钱包，只能望洋兴叹了，没办法啊。。</p>

<h2 id="廉政公署">廉政公署</h2>

<p>廉政公署(Independent Commission Against Corruption, ICAC）成立于1974年，是专门负责打击贪污行贿受贿的腐败行为，是香港清廉的一大原因。和大陆的反腐机构反贪局相比，ICAC独立于政府，也就是说，ICAC办案工作等，政府是无权干涉的。而大陆的反贪局则隶属于检察机关，原本检察机关和政府也是两个平行的机构，但是由于大陆的复杂情形，地方政府和检察机关往往是相互纠缠在一起，也就失去了独立性，从而使得反腐工作难以有效进行。</p>

<h1 id="8月30日">8月30日</h1>

<p>今天上午，我们来到了香港的高等法院，旁听案件。不过，我们一群人进到法庭，完全失望了。大约在法庭上待了40多分钟，一直只有法官一个人在说，而且是标准的英式英语（我猜的，因为感觉不是美音），完全就是听不懂，只能偶尔听见几个单词。怎一个郁闷了得。。在我们退出法庭后，吕广基先生说了下，大致就是这是一个贩卖毒品的案件，现在法官再向陪审团介绍案情，一丝不漏的介绍，从而使得陪审团确定几个嫌疑人是否有罪，若有罪，法官量刑，否则，释放。虽然感觉上这个不是一个无聊的案件，可惜英语水平不行，再加上并没有看见自己原本期待的原告被告律师的辩论，只能得出无聊二字而已。。</p>

<h1 id="香港印象">香港印象</h1>

<p>在香港的时间只有短短的几天，却也对香港有了一个初步的印象。</p>

<ol>
<li><p>风水<br />
我的感觉是，香港人很信风水。才到香港，导游就和我们讲了香港的一些和风水相关的事情，比如黎姿改名、两面三刀、政府大楼前面的龙等等。在某天晚上，我去庙街，道旁一溜都是算命先生，而且确实有人在问卦看相等等。风水先生完全不用为生活发愁，而那些名气大的风水先生（我记不住名字，香港人一定是知道的）， 那就更不用说了。对于风水是否迷信，我以为就是，信则灵。</p></li>

<li><p>自由<br />
香港是个自由的城市，不论哪个方面。当然感受最深的还是言行自由。在香港，没有Great Fire Wall，访问Google、YouTube等等完全无压力，没有出版物审查，传媒不会受到政府的左右，更不会传为政府的传声筒，即使在大街上，都是随处可以见到许多的保钓宣言、反共标语、法轮功宣传和反法轮功宣传等等，这一切在大陆都只是传说而已。应该说，这是一个值得大陆去学习的地方。在目前，虽然说，大陆在言论上是趋于自由的，但是在涉及到政治的言论上，绝对是一下摁死。我认为，正是这种过于苛刻的政治化的审查、监管力度，才导致许多对于共产等的不满言论。治水，都要讲究堵不如疏，更何况人呢？</p></li>

<li><p>消费<br />
在香港，收入都是以万为衡量单位的。当然，收入高，平均的消费水平也高了，这几天在香港，每天在外吃饭，最便宜的一餐是20港币，平均是三四十港币，相当于人民币25到35元，注意，这是普通的小店消费，在北京，这种小店的消费最多20元到头。不过，香港的生活日用品比大陆便宜，电子产品、奢侈品等就要比大陆便宜一大截，因为香港是实行零关税，自然价格就相比于其他地区的加关税的价格更有竞争力。所以许多赴香港旅游的旅客，基本上会有一天或者两天时间是专门用于购物的。</p></li>

<li><p>公共环境<br />
注重公共环境是香港的一大特色。第一天到香港，导游就和我们介绍了一些法规，随地吐痰，罚款1500港，闯红灯，罚款2000港，公共场所吸烟，罚款1500港。这些，都说明了香港人对公共环境的重视。同时，在香港，如果在地铁或者大巴上吃东西或者喝饮料（可以喝水）都会被罚款1500港，因为吃东西会散发气味，影响到其他人。</p></li>

<li><p>贫富差距<br />
贫富差距，不论在哪个国家、哪个地区，都必然存在，香港同样不例外。在香港，最贫穷的人，叫做笼民，他们住的地方，是一个笼子，一家人晚上睡在里面，白天上班，把笼子锁上。笼子就是他们的家。条件稍微好一点的人，一家两代或者三代，住在十几二十平米的小屋，只有一个窗户，这种房子叫廉租屋。再好一些，就是自己买个几十平米的房子。而最富有的人，香港的大富豪们，比如周星驰、周润发、李嘉诚等等，那就是住在香港最富的地区了。</p></li>
</ol>

<p>以上就是对香港一些初步印象，可能还有一些其他的东西，但是我写不出来，也可能有些东西写出来了，但是不是很正确或者过于泛泛。。不过限于文笔，只能如此。。</p>

            </div>
        </div>
        
        <div class="post">
            <h1 class="post-title u-link">
                <a href="http://blog.evercoding.net/post/records-of-tour-to-hong-kong-2nd/">香港游小记二</a>
            </h1>
            <div class="post-meta">
    <span class="post-date">2012.8.29</span>
    
        &middot;
        
        <span class="post-tag u-link">
            <a href="/tags/%E9%A6%99%E6%B8%AF">香港</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/%E6%97%85%E6%B8%B8">旅游</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/%E6%9A%91%E5%81%87">暑假</a>
        </span>
        
    
</div>
            <div class="post-content">
                

<h1 id="gama协会吕广基先生演讲">GAMA协会吕广基先生演讲</h1>

<p>8月28日，早8点30分，我们登上了大巴。除了导游之外，还有一个陌生的精干男子，大约40多岁的样子。我原以为这名男子是旅游公司的人。在之后，我发现自己错了。男子自己介绍，自己有52岁，而且是今天就是他要在今天上午给我们做一个演讲。</p>

<p>来到目的地GAMA协会，他做了自我介绍，他名字叫做吕广基，英文名叫做Aaron Lui。吕广基先生给我们做了一个长约两小时的演讲。由于其幽默风趣的演讲风格以及确实言之有理、有极大启迪意义的演讲内容，我们一行人从他的演讲中获益良多。</p>

<p>从他的演讲中，我主要学到了一下几点：</p>

<ol>
<li>敢于突破<br />
吕广基先生曾经有一份月薪2万6的一个政府公务员职位，这是一个相当稳定的职业。但是他却并不想今后的一辈子就是这样的度过，他认为自己应该有更大的价值，毅然放弃了优厚的待遇，投身保险行业，并且在新行业近8个月，薪水就已经和公务员时期持平了。在当时的大环境下，这样一种行为，在别人看来，显然是一种理智的行为。不过，在吕广基先生看来，这是一种对于自我价值的追求。这一步突破，就是为了能够更好的实现自己的价值。</li>
</ol>

<p>不仅仅如此，在保险行业工作了很长世界之后，吕广基先生又做了一次“大胆”的举动，辞掉了保险公司的工作，继续追寻更高的价值。
   我想，现在的我，如果在遇到吕广基先生所遇到的情况，我会和他坐一样的抉择的可能性是多少呢？我也不清楚，不过会很低，因为我不是一个喜欢冒险的人，毕竟新的工作和旧的已经相当熟悉的旧的工作要相差好多。我想，之所以如此，和我自己的性格有关，但也和自己思想上的桎梏相关，因为我并没有那种必须要突破，必须要追寻自己的更高的价值的意识。</p>

<ol>
<li><p>成功之路<br />
一个人想要获得成功，吕广基先生结合他自身的情况，认为以下是最重要的的几条。
&gt; * 梦想（Dream）
&gt; * 目标（Target）
&gt; * 欲望（Desire）
&gt; * 行动计划（Action Plan）
&gt; * 定期检查（Check Point）</p>

<p>想要获得成功，这五点不可或缺。其中，梦想是自己的一种并不是很具体的一种“梦”，而目标则是具体的事情。欲望则是获得成功的路上不可或缺的。不过，前面的几条都是一种说的层次上，要想真正的实现自己的价值，获得成功，行动计划必不可缺，没有行动计划，一切的“梦”，目标等等，都只是一句空话而已。同时，必须要定期检查以确定行动计划是否完成了预定的目标，从而改善行动计划。</p></li>

<li><p>生活态度<br />
从吕广基先生的演讲中，可以清晰地感觉出他对于生活的态度，从他对于他的家庭的描述，也可以看书他是一个非常乐观的人。除却乐观，他能够吧工作和生活分开来看。工作就是工作，不会把工作的心情带回家，更不能由于工作上的事情在家里生气。</p></li>
</ol>

<p>我认为，这是一种相当好的生活态度。工作的事情，在怎么烦心都是工作上的事情，在家里面，这件事情完全是无关的事情，不能让家里人也受到工作的影响。</p>

<h1 id="香港迪士尼乐园游玩">香港迪士尼乐园游玩</h1>

<p>上午的演讲，是对我们的一种教育，下午的迪士尼，则是纯粹的游戏玩乐。</p>

<p>Thank to the very hot weather in the afternoon，再加上背着一个双肩背，自己的背部一直就是湿的。不过湿的衣服并不能影响我们玩乐的热情。在我玩过的几个项目中，最刺激的那就是“飞越太空山”了，这就是一个过山车，疾速行驶的过山车，伴着或高或低，或缓或急的变速，给人以强烈的刺激。此外，4D电影也是极其的震撼，戴着眼镜坐在座位上，看着一个一个的物体尽在眼前，跟着剧情乘坐飞毯，并且感受着极其和电影中人物同样的感受，淋水、香气等等，确实让人回味无穷。</p>

            </div>
        </div>
        
        <div class="post">
            <h1 class="post-title u-link">
                <a href="http://blog.evercoding.net/post/records-of-tour-to-hong-kong-1st/">香港游小记一</a>
            </h1>
            <div class="post-meta">
    <span class="post-date">2012.8.28</span>
    
        &middot;
        
        <span class="post-tag u-link">
            <a href="/tags/%E9%A6%99%E6%B8%AF">香港</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/%E6%97%85%E6%B8%B8">旅游</a>
        </span>
        
        <span class="post-tag u-link">
            <a href="/tags/%E6%9A%91%E5%81%87">暑假</a>
        </span>
        
    
</div>
            <div class="post-content">
                

<p>8月25日5点出发，8点上火车，26日晚10点左右到达香港明白英奇酒店，再到<a href="#" title="2012-08-28 凌晨">现在</a>，其实在香港才逛了一天，不过还是有些东西想要写下来，或者是一些感受，或者就是一些流水帐似的记录。</p>

<h1 id="火车上">火车上</h1>

<p>在火车上，其实是大家认识的一个过程。总共30人，在之前，大家都是谁都不认识谁。而在火车上的24个小时，就是提供了一个让大家相互了解的机会。这么多人主要分成了两个大拨，一拨是杀人游戏，一拨是三国杀，24小时里，基本上有16个小时，我一直在杀，两个杀都玩了。这样，24个小时的火车也就不会那么无聊了。。下火车的时候，已经可以把大部分人的名字和模样对上号了。。</p>

<h1 id="逛旺角">逛旺角</h1>

<p>旺角是香港的繁华地带，但是呢，我们起得太早了。因为在香港，一般的铺面是在早10点才开始营业的。而我们在8点半就集合带出酒店了。原因么，可能是，我们原来定的是上午去香港中文大学，但是因为一些时间上的问题，改到了下午，然后我们还是按照原定的8点半集合了。。然后我们就真正的逛了一个上午的“街”。</p>

<h1 id="港中大和香港理工">港中大和香港理工</h1>

<p>下午我们去了港中大和香港理工两所大学。这是我们此行参观访问的唯“二”的大学。</p>

<h2 id="港中大">港中大</h2>

<p>香港中文大学建校于1963年，到现在也才50年不到。不过，港中大的学术地位，已经不容质疑。同时，港中大还是香港惟一的一所书院制大学。港中大提倡“全人教育”，理智学院负责学生的“形式教育”，也就是专业课等课程，而书院则负责学生的“非形式教育”，包括通识教育、非专业课以及各种活动等，同时负责学生的生活、住宿等。</p>

<p>相比于大陆的大学，重视学生的专业刻教育，却对德育等其他方面有所欠缺，港中大所提成的“全人教育”显然更加注重学生的“全面发展”，而非只是一种大陆常提的“口号”。</p>

<p>这一点在三个港中大的学生的一些对于港中大学习生活的分享中也可以看到。我清晰的记得其中一个林姓的同学说，他们书院的义工活动不仅仅关注香港的老人儿童，他们去了乌干达、柬埔寨等等落后的地区，提供义务服务。我不知到大陆的大学是怎样的，但是我知道我的学校肯定是没有这样的活动的。
PS，即使2013年，也就是明年就是港中大的50年校庆，港中大内（至少我们乘坐大巴的这一大段路上）并没有为了校庆而大兴土木以至于无法通车、干扰正常生活等等现象。</p>

<h2 id="香港理工">香港理工</h2>

<p>在香港理工我们听了一些关于香港理工的介绍，也参观了它的工程中心和图书馆。给我感触最深的还是图书馆。</p>

<p>香港理工的图书馆，称作包玉刚图书馆，共有六层，其中一、三、四层藏书，五层是期刊阅览室。和大陆不同，香港采用的并非国图分类法，而是美国国会图书馆分类法。同时，除了书和期刊，包玉刚图书馆还提供有音像制品的外借服务，比如一些音乐CD，电影碟片等等。在图书馆的每一层都设有若干的电脑，供学生查阅电子资料。而最让我喜欢的是，图书馆提供了85个Research Carrel，供研究生和任课老师使用。所谓的Research Carrel，就是一个小的单间，配有电脑和一张相当不小的桌子，以便可以不受影响的做些研究。除了这些，包玉刚图书馆的环境很好，虽然是1972年建馆，但是新近没有装修的几个楼层，完全看不出有什么老旧之处。</p>

<p>相对于包玉刚图书馆，我不免对于本校的图书馆有些失望。先说硬件，我不清楚本校的图书馆是何时成立的，但是显然，并没有包玉刚图书馆看起来新。然后说软件，藏书量上，我不清楚，但是本校的图书馆并不提供阅览用的电脑（或者是有，但是我不知道，而且即使有应该也是收费的），至于音像制品当然更是没有（对于音像制品，并不是一个图书馆必备的条件，也不是一个图书馆是否足够好的一个判断标准，这里只是陈述一个事实）。其他的一些我也说不清楚，但是，如果让我选哪个图书馆更好的话，显然是包玉刚图书馆。而且，显然一个好的图书馆会对学生的查阅资料、进行研究有一些正的加成。</p>

<p>从以上港中大和香港理工的一些小方面来看，大陆高等教育的不发达可见一斑。</p>

<h1 id="平顶山">平顶山</h1>

<h2 id="杜莎夫人蜡像馆">杜莎夫人蜡像馆</h2>

<p>杜莎夫人蜡像馆享誉全球，我们一行人也在晚上来到了这里。不过，可能对于杜莎夫人蜡像馆的期望值过高，馆中的真人蜡像并不能完全的打动我。里面当然有些栩栩如生的蜡像，比如美国总统奥巴马，真的是相当的逼真。不过，其他的一些蜡像并不是那么的惟妙惟肖，特别是眼睛，可能也是由于眼睛是心灵的窗户，而蜡像是没有心灵的，所以也就没有传神的眼睛。不过，虽然如此，我们也是玩得相当的痛快，毕竟拍在照片里，还是足以以假乱真的。在杜莎夫人蜡像馆里，除了蜡像，还有一个鬼屋。不过，在我之前那一队人进入之后，工作人员说需要等一个小时才能轮到我们（可能是出现了什么问题，没有说），但是我们还有一个小时不到就要集合了，无奈只能放弃。更可气的是，在我走后大约10分钟，就可以近人了。。Oh，shit！</p>

<h2 id="幻彩咏香江">幻彩咏香江</h2>

<p>如果说杜莎夫人蜡像馆只是一点点的不那么的逼真，那么，我看到的幻彩咏香江就是完全的名不副实。8点钟，我们集中到平顶山的一个观景台。预想中的灯光璀璨、绚丽场景并没有出现，有的只是几道白光偶尔的直射灰暗的天空。不清读是我们的观景为止不好，还是幻彩咏香江本来就如此，抑或是之前导游的描述让我对幻彩咏香江有了太高的期待。不过，在平顶山观看夜景，可以看到相当美丽的一幅画面。不过，所有的人关注的几乎都是那个知名度极高的幻彩咏香江，又有几人会欣赏这美景呢？或许只有幻彩咏香江结束之后，才会有人注意到吧。</p>

            </div>
        </div>
        
    </div>
    

<ul class="pagination">
    
    <li>
        <a href="/" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li
    >
    <a href="/page/2/" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    class="active"><a href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li
    ><a href="/page/4/">4</a></li>
    
    
    <li
    >
    <a href="/page/4/" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li>
        <a href="/page/4/" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

</div>

            
        </div>
    </div>
    <div id="footer">
    <div class="footer-container">
        <div class="support">
            <div class="powered-by">本站由 <a href="https://gohugo.io">Hugo</a> 驱动</div>
            <div class="theme">采用 <a href="https://github.com/codvim">ink</a> 主题</div>
        </div>
    </div>
</div>
    
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-54098391-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>

</body>
</html>